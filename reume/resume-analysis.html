<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>履歴書・職務経歴書分析 - Social Humanity Hexagraph</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="../favicon.svg">
    <link rel="shortcut icon" href="../favicon.svg">
    <link rel="apple-touch-icon" href="../favicon.svg">
    
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="resume-styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- ナビゲーション -->
        <nav class="page-navigation">
            <a href="../index.html" class="nav-back">← 質問式分析に戻る</a>
        </nav>

        <header>
            <h1>履歴書・職務経歴書分析</h1>
            <p class="subtitle">あなたの経歴から社会的能力を可視化します</p>
        </header>

        <main>
            <!-- ファイルアップロードセクション -->
            <section id="uploadSection" class="upload-section">
                <!-- 名前入力 -->
                <div class="name-input-section">
                    <label for="resumeUserName">お名前</label>
                    <input type="text" id="resumeUserName" name="resumeUserName" placeholder="分析結果に表示する名前を入力してください" required>
                </div>

                <h2>履歴書・職務経歴書をアップロード</h2>
                <p class="instruction">PDF、画像（JPG、PNG）、またはテキストファイルをアップロードしてください。</p>
                
                <form id="resumeForm">
                    <!-- ファイルアップロードエリア -->
                    <div class="file-upload-container">
                        <div class="upload-area" id="uploadArea">
                            <div class="upload-icon">📄</div>
                            <div class="upload-text">
                                <h3>ファイルをドラッグ&ドロップ</h3>
                                <p>または</p>
                                <button type="button" class="file-select-btn" onclick="document.getElementById('fileInput').click()">ファイルを選択</button>
                            </div>
                            <input type="file" id="fileInput" name="files" multiple accept=".pdf,.jpg,.jpeg,.png,.txt,.doc,.docx" style="display: none;">
                        </div>
                        
                        <!-- アップロードされたファイル一覧 -->
                        <div id="fileList" class="file-list" style="display: none;">
                            <h4>アップロード済みファイル:</h4>
                            <ul id="uploadedFiles"></ul>
                        </div>
                    </div>

                    <!-- 手動テキスト入力オプション -->
                    <div class="manual-input-section">
                        <h3>またはテキストで直接入力</h3>
                        <div class="text-input-group">
                            <label for="resumeText">履歴書・職務経歴書の内容</label>
                            <textarea id="resumeText" name="resumeText" rows="8" placeholder="職歴、学歴、スキル、資格、実績などを記載してください..."></textarea>
                        </div>
                    </div>
                    
                    <!-- 注意事項 -->
                    <div class="info-section">
                        <p class="info-text">※アップロードされたファイルは分析後に自動削除されます。個人情報は安全に処理されます。</p>
                        <p class="info-text">※分析には数秒程度かかる場合があります。</p>
                    </div>
                    
                    <button type="submit" class="submit-btn" id="analyzeBtn" disabled>分析を開始する</button>
                </form>
            </section>
            
            <!-- 結果表示セクション -->
            <section id="results" class="results-section" style="display: none;">
                <h2 id="resultsTitle">分析結果</h2>
                
                <!-- グラフ表示エリア（社会的能力のみ） -->
                <div class="charts-container">
                    <div class="chart-wrapper">
                        <h3>社会的能力ヘキサグラフ</h3>
                        <canvas id="socialChart"></canvas>
                    </div>
                </div>
                
                <!-- 解説表示エリア -->
                <div class="analysis-container">
                    <div class="analysis-section">
                        <h3>社会的能力分析</h3>
                        <div id="socialAnalysis" class="analysis-content"></div>
                    </div>
                    <div class="analysis-section">
                        <h3>経歴サマリー</h3>
                        <div id="careerSummary" class="analysis-content"></div>
                    </div>
                </div>
                
                <!-- 結果ダウンロードボタン -->
                <div class="download-section">
                    <button id="downloadBtn" class="download-btn">結果を画像でダウンロード</button>
                    <button id="newAnalysisBtn" class="new-analysis-btn">新しい分析を行う</button>
                </div>
            </section>
        </main>
        
        <!-- ローディング表示 -->
        <div id="loading" class="loading" style="display: none;">
            <div class="spinner"></div>
            <p>ファイルを読み取り中...</p>
        </div>
    </div>
    
    <script src="resume-script.js"></script>
</body>
</html> 
